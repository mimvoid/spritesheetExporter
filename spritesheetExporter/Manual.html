<?xml version="1.0" encoding="utf-8"?>
<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Spritesheet exporter</title>
  </head>

  <body>
    <h1>Spritesheet Exporter</h1>

    <h2>Why use it?</h2>
    <p>
      Most pixel art games use spritesheets for their animations, but manually
      exporting from the animation timeline is a pain, effectively destroys your
      animation if you do it on the same file, and with every new modification
      you need to start all over again.
    </p>
    <p>
      This plugin allows you to easily export the active animation as a
      spritesheet without modifying your current working document.
    </p>

    <h2>How to use it</h2>
    <p>
      <strong>Tools > Scripts > Export as Spritesheet</strong>
      will export the animation from the current document's animation timeline.
    </p>

    <h2>Options</h2>
    <h3>General</h3>
    <p>
      <strong>Export name</strong>: The name of the spritesheet file. If you
      don't provide a file extension, such as an export name of "foo", the file
      will be in PNG format.
    </p>
    <p>
      <strong>Export directory</strong>: The folder in which the spritesheet
      will be exported.
    </p>
    <p>
      <strong>Only unique frames</strong>: Only export unique frames, meaning
      sprites with different pixel data.
    </p>
    <p>
      <strong>Write JSON texture atlas</strong>: Writes a JSON texture atlas
      file that can be used in game frameworks like Phaser 3. The atlas filename
      will be the export name with a ".json" file extension.
    </p>
    <p>
      The filenames in the atlas file will be set to the numeric index of the
      texture. For example:
    </p>
    <pre>
{ "frames": [
    { "filename": 0,
      "frame": { "x": 0, "y": 0, "w": 300, "h": 334 } },
    { "filename": 1,
      "frame": { "x": 300, "y": 0, "w": 300, "h": 334 } },
...
    </pre>

    <h3>Export image sequence</h3>
    <p>Export separate files for each individual sprite.</p>
    <p>
      <strong>Base name</strong>: The prefixed name for each sprite file. If you
      type in "foo" and the export name will create a PNG file, the files will
      be called "foo000.png", "foo001.png", etc.
    </p>
    <p>
      <strong>Custom directory</strong>: By default, the sprite files will be
      exported to a folder called "spritesheet_sprites" in the same directory as
      the current document. With this, you can set a different folder to export
      the sprites to.
    </p>
    <p>
      <strong>Force new folder</strong>: If sprites folder already exists,
      create a new folder with a different name. For example, if the existing
      sprites folder is named "spritesheet_sprites", the new folder will be
      named "spritesheet_sprites0". If unchecked, the files will be put in the
      existing folder, potentially overwriting files.
    </p>

    <h3>Extra</h3>
    <p>
      <strong>Use layers as animation frames</strong>: Instead of getting
      sprites from each frame in the animation timeline, export one from each
      visible layer (for the current frame). This is a good option for Photoshop
      formatted files (with the timeline and layers on the same axis), or for
      non-animation art, like sketches.
    </p>
    <p>
      <strong>Sprite placement</strong>: The direction to place the sprites in
      the spritesheet. For example, in a 3x2 grid, the sprites numbers are as
      follows:
    </p>
    <p>Horizontal:</p>
    <pre>
1 2 3
4 5 6
      </pre
    >
    <p>Vertical:</p>
    <pre>
1 3 5
2 4 6
      </pre
    >
    <p>
      <strong>Columns</strong>: The number of columns for the spritesheet. This
      can only be set if the sprite placement is horizontal. The number of rows
      will be calculated based on the number of sprites and columns.
    </p>
    <p>
      <strong>Rows</strong>: The number of rows for the spritesheet. This can
      only be set if the sprite placement is vertical. The number of columns
      will be calculated based on the number of sprites and rows.
    </p>
    <p>
      For either columns or rows, if auto, the spritesheet will try to fit a
      square. If there are not enough sprites to fill the space (such as 4
      sprites for an 8 column spritesheet), the empty space will be
      automatically clipped.
    </p>
    <p><strong>Start</strong>: The first frame of the animation to export.</p>
    <p><strong>End</strong>: The last frame of the animation to export.</p>
    <p><strong>Step</strong>: Export every 'step' frame of the animation.</p>
    <p>
      If start or end are auto, the plugin will find the first and/or last
      keyframe out of all visible frames.
    </p>
    <p>
      <strong>Padding left</strong>: How much to pad the left edge of a sprite.
    </p>
    <p>
      <strong>Padding top</strong>: How much to pad the top edge of a sprite.
    </p>
    <p>
      <strong>Padding right</strong>: How much to pad the right edge of a
      sprite.
    </p>
    <p>
      <strong>Padding bottom</strong>: How much to pad the bottom edge of a
      sprite.
    </p>
    <p>
      If padding is set to a negative value, the sprite will be clipped instead
      of padded on that edge.
    </p>

    <h2>Other spritesheet manipulations</h2>
    <p>
      To <strong>import a spritesheet</strong> to the animation timeline of a
      new layer, use the built-in tools. First, use Image > Image Split on the
      spritesheet document. Then, in a new file of the same dimensions as one
      frame, use File > Import Animation Frames.
    </p>
    <p>
      (See also the
      <a
        href="https://docs.krita.org/en/user_manual/animation.html#importing-animation-frames"
        >official tutorial with images</a
      >.)
    </p>
    <p>
      To <strong>merge a spritesheet</strong>, import each spritesheet as a
      frame in the same document with File > Import Animation Frames. Then,
      export them as a spritesheet with Tools > Scripts > Export as Spritesheet.
      You probably want 1 column if your individual spritesheets are each one
      line.
    </p>

    <h2>Notes</h2>
    <p>To <strong>activate debug messages</strong>:</p>
    <p>
      Go to the Krita resources folder and find the
      pykrita/spritesheetExporter/ui.py file. Then, change the second to last
      line from <code>self.exporter.export()</code> to
      <code>self.exporter.export(True)</code>. The plugin will now print debug
      messages to the terminal Krita is launched in.
    </p>

    <hr />

    <p>
      This is a fork of the Spritesheet Exporter plugin with added features and
      fixes. Feel free to submit feature requests and bug reports to
      <a href="https://github.com/mimvoid/spritesheetExporter"
        >https://github.com/mimvoid/spritesheetExporter</a
      >.
    </p>
    <p>
      From the original plugin author: If you have comments, suggestions, or
      need to contact me, send me an email at: noemie.scherer@gmail.com or open
      an issue at https://github.com/Falano/kritaSpritesheetManager (which is
      also where you can re-download it in case of need)
    </p>
  </body>
</html>
